function debouncer(e,t){var i,t=t||200;return function(){var o=this,n=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(o,Array.prototype.slice.call(n))},t)}}function d3_scrollinterface(){function e(i){t=i,e.init(),e.resize(),e.set(),d3.select(window).on("scroll.scrollinterface",e.scroll),d3.select(window).on("resize.scrollinterface",function(){debouncer(function(t){e.resize()},200)})}var t,i,o={window:{height:0,width:0},offset:50,items:[]};return e.init=function(){i=t.selectAll(".scroller_item"),i.each(function(e){var t=d3.select(this);o.items.push({fullscreen:"true"===t.attr("data-fullscreen")?!0:!1,addscroll:parseInt(t.attr("data-addscroll")),obj:!1})})},e.resize=function(){o.window.height=window.innerHeight,o.window.width=window.innerWidth,i.style("height",function(e,t){return o.items[t].addscroll>0?window.innerHeight-o.offset+o.items[t].addscroll+"px":"auto"}),i.each(function(e,t){d3.select(this).select(".scroller_content").style("height",function(e){return o.items[t].fullscreen?window.innerHeight-o.offset+"px":"auto"})});var t=$(window).scrollTop();i.each(function(e,i){var n=d3.select(this).node().getBoundingClientRect();o.items[i].top=n.top+t,o.items[i].height=n.height,o.items[i].obj&&o.items[i].obj.resize()}),e.scroll()},e.scroll=function(){var e=$(window).scrollTop()+o.offset;o.items.forEach(function(t,i,n){t.addscroll>0&&(e>=t.top?e<t.top+t.height-o.window.height?(d3.select(".scroller_item:nth-child("+(i+1)+")").style("padding-top","0px").classed("active",!0),o.items[i].obj&&o.items[i].obj.update((e-t.top)/(t.height-o.window.height)*100)):(o.items[i].obj&&o.items[i].obj.update(100),d3.select(".scroller_item:nth-child("+(i+1)+")").style("padding-top",t.height-o.window.height+o.offset+"px").classed("active",!1)):(o.items[i].obj&&o.items[i].obj.update(0),d3.select(".scroller_item:nth-child("+(i+1)+")").style("padding-top","0px").classed("active",!1)))})},e.set=function(){},e}